{"ast":null,"code":"import _regeneratorRuntime from \"@babel/runtime-corejs2/regenerator\";\nvar _jsxFileName = \"C:\\\\Users\\\\Bakk\\\\Documents\\\\GitHub\\\\yernemm-xyz\\\\pages\\\\posts.js\";\nimport _JSXStyle from \"styled-jsx/style\";\nimport React from \"react\";\nvar __jsx = React.createElement;\nimport Wrapper from '../components/page-wrapper';\nimport fetch from 'isomorphic-unfetch';\nimport Link from 'next/link';\n\nvar u = require('../scripts/util.js');\n\nvar csvtojson = require(\"csvtojson\");\n\nvar Posts = function Posts(props) {\n  return __jsx(Wrapper, {\n    title: \"Posts\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 7\n    },\n    __self: this\n  }, __jsx(\"div\", {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 8\n    },\n    __self: this\n  }, props.postsData.map(function (data) {\n    return __jsx(\"div\", {\n      key: data.id,\n      className: \"jsx-995136902\" + \" \" + 'hoverListItem',\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 9\n      },\n      __self: this\n    }, __jsx(Link, {\n      href: \"/posts/[id]\",\n      as: \"/posts/\".concat(data.id),\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 10\n      },\n      __self: this\n    }, __jsx(\"a\", {\n      className: \"jsx-995136902\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 11\n      },\n      __self: this\n    }, __jsx(\"span\", {\n      className: \"jsx-995136902\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 13\n      },\n      __self: this\n    }, __jsx(\"a\", {\n      className: \"jsx-995136902\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 14\n      },\n      __self: this\n    }, __jsx(\"p\", {\n      className: \"jsx-995136902\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 14\n      },\n      __self: this\n    }, \" \", data.title), __jsx(\"p\", {\n      style: {\n        fontSize: '60%'\n      },\n      className: \"jsx-995136902\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 15\n      },\n      __self: this\n    }, \"Created: \", u.formatDate(u.getDateObj(data.created)))), __jsx(\"hr\", {\n      className: \"jsx-995136902\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 16\n      },\n      __self: this\n    })))), \" \", __jsx(_JSXStyle, {\n      id: \"995136902\",\n      __self: this\n    }, \"a.jsx-995136902{-webkit-text-decoration:none;text-decoration:none;}a.jsx-995136902:link{color:#ccf;}a.jsx-995136902:visited{color:#ccf;}a.jsx-995136902:hover{color:#88f;}a.jsx-995136902:active{color:#88f;}\\n/*# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIkM6XFxVc2Vyc1xcQmFra1xcRG9jdW1lbnRzXFxHaXRIdWJcXHllcm5lbW0teHl6XFxwYWdlc1xccG9zdHMuanMiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IkFBbUJvQyxBQUkwQixBQUlWLEFBS0EsQUFLQSxBQUtBLFdBZGIsQUFLQSxBQUtBLEFBS0EsdUNBbkJBIiwiZmlsZSI6IkM6XFxVc2Vyc1xcQmFra1xcRG9jdW1lbnRzXFxHaXRIdWJcXHllcm5lbW0teHl6XFxwYWdlc1xccG9zdHMuanMiLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgV3JhcHBlciBmcm9tICcuLi9jb21wb25lbnRzL3BhZ2Utd3JhcHBlcic7XHJcbmltcG9ydCBmZXRjaCBmcm9tICdpc29tb3JwaGljLXVuZmV0Y2gnO1xyXG5pbXBvcnQgTGluayBmcm9tICduZXh0L2xpbmsnO1xyXG5jb25zdCB1ID0gcmVxdWlyZSgnLi4vc2NyaXB0cy91dGlsLmpzJyk7XHJcbmNvbnN0IGNzdnRvanNvbiA9IHJlcXVpcmUoXCJjc3Z0b2pzb25cIik7XHJcbmxldCBQb3N0cyA9IHByb3BzID0+ICggXHJcbiAgICA8V3JhcHBlciB0aXRsZT1cIlBvc3RzXCI+XHJcbiAgICAgICAgPGRpdj5cclxuICAgICAgICB7cHJvcHMucG9zdHNEYXRhLm1hcChkYXRhPT4oPGRpdiBjbGFzc05hbWU9J2hvdmVyTGlzdEl0ZW0nIGtleT17ZGF0YS5pZH0+XHJcbiAgICAgICAgICA8TGluayBocmVmPVwiL3Bvc3RzL1tpZF1cIiBhcz17YC9wb3N0cy8ke2RhdGEuaWR9YH0+XHJcbiAgICAgICAgICA8YT5cclxuICAgICAgICAgICAgXHJcbiAgICAgICAgICAgIDxzcGFuPiAgXHJcbiAgICAgICAgICAgIDxhPjxwPiB7ZGF0YS50aXRsZX08L3A+XHJcbiAgICAgICAgPHAgc3R5bGU9e3tmb250U2l6ZTogJzYwJSd9fT5DcmVhdGVkOiB7dS5mb3JtYXREYXRlKHUuZ2V0RGF0ZU9iaihkYXRhLmNyZWF0ZWQpKX08L3A+PC9hPlxyXG4gICAgICAgICAgICAgICAgICAgIDxociAvPlxyXG4gICAgICAgICAgICAgICAgICAgIDwvc3Bhbj5cclxuICAgICAgICAgICAgICAgXHJcbiAgICAgICAgICAgIFxyXG4gICAgICAgICAgICA8L2E+PC9MaW5rPiA8c3R5bGUganN4PntgXHJcbiAgLyogdW52aXNpdGVkIGxpbmsgKi9cclxuICBhIHtcclxuICAgIHRleHQtZGVjb3JhdGlvbjogbm9uZTtcclxuICB9XHJcblxyXG4gIGE6bGluayB7XHJcbiAgICBjb2xvcjogI2NjZjtcclxuICB9XHJcbiAgXHJcbiAgLyogdmlzaXRlZCBsaW5rICovXHJcbiAgYTp2aXNpdGVkIHtcclxuICAgIGNvbG9yOiAjY2NmO1xyXG4gIH1cclxuICBcclxuICAvKiBtb3VzZSBvdmVyIGxpbmsgKi9cclxuICBhOmhvdmVyIHtcclxuICAgIGNvbG9yOiAjODhmO1xyXG4gIH1cclxuICBcclxuICAvKiBzZWxlY3RlZCBsaW5rICovXHJcbiAgYTphY3RpdmUge1xyXG4gICAgY29sb3I6ICM4OGY7XHJcbiAgfVxyXG5gfTwvc3R5bGU+PC9kaXY+XHJcbiAgICAgICAgKSl9XHJcbiAgICAgICAgPC9kaXY+XHJcblxyXG4gICAgPC9XcmFwcGVyPlxyXG4pXHJcblxyXG5leHBvcnQgZGVmYXVsdCBQb3N0c1xyXG5cclxuUG9zdHMuZ2V0SW5pdGlhbFByb3BzID0gYXN5bmMgZnVuY3Rpb24oKSB7XHJcblxyXG4gICAgY29uc3QgcmVzID0gYXdhaXQgZmV0Y2goJ2h0dHBzOi8vZG9jcy5nb29nbGUuY29tL3NwcmVhZHNoZWV0cy9kL2UvMlBBQ1gtMXZTQWY1YTFwd0lqLXlqS1BGaG95UWRIVFMzaEhCTlpWWVhRUlRDb0FIWGQ2ellNeTU4aVpyMElXMDU0V2dsQkprOWFma25zVEllVlM4ZUYvcHViP291dHB1dD1jc3YnKTtcclxuICAgIGNvbnN0IGNzdiA9IGF3YWl0IHJlcy50ZXh0KCk7XHJcbiAgICBsZXQganNvbiA9IGF3YWl0IGNzdnRvanNvbigpLmZyb21TdHJpbmcoY3N2KS50aGVuKGpzb24gPT4ge1xyXG4gICAgICAgIHJldHVybiBqc29uO1xyXG4gICAgfSk7XHJcblxyXG4gICAgZm9yKGxldCBpPTA7IGk8anNvbi5sZW5ndGg7IGkrKyl7XHJcbiAgICAgICAgbGV0IHN0YW1wID0ganNvbltpXS5jcmVhdGVkO1xyXG4gICAgICAgIGlmKHN0YW1wICogMSA9PSBzdGFtcClcclxuICAgICAgICBzdGFtcCA9IHN0YW1wICogMVxyXG4gICAgICAgIGxldCBkID0gbmV3IERhdGUoc3RhbXApO1xyXG4gICAgICAgIGpzb25baV0uY3JlYXRlZFN0YW1wID0gKyBkO1xyXG4gICAgfVxyXG5cclxuICAgIGpzb24gPSBqc29uLnNvcnQoc29ydEJ5RGF0ZSk7XHJcblxyXG4gICAgZnVuY3Rpb24gc29ydEJ5RGF0ZShhLGIpe1xyXG4gICAgICAgIGlmKGEuY3JlYXRlZFN0YW1wID4gYi5jcmVhdGVkU3RhbXApIHJldHVybiAtMTtcclxuICAgICAgICBpZihhLmNyZWF0ZWRTdGFtcCA8IGIuY3JlYXRlZFN0YW1wKSByZXR1cm4gMTtcclxuICAgICAgICByZXR1cm4gMDtcclxuICAgIH1cclxuXHJcbiAgICAvL2NvbnN0IGpzb24gPSBhd2FpdCBjc3Z0b2pzb25cclxuICAgIHJldHVybiB7cG9zdHNEYXRhOiBqc29ufVxyXG59XHJcblxyXG5hc3luYyBmdW5jdGlvbiBjb252ZXJ0KGNzdil7XHJcbiAgICBcclxufSJdfQ== */\\n/*@ sourceURL=C:\\\\\\\\Users\\\\\\\\Bakk\\\\\\\\Documents\\\\\\\\GitHub\\\\\\\\yernemm-xyz\\\\\\\\pages\\\\\\\\posts.js */\"));\n  })));\n};\n\nexport default Posts;\n\nPosts.getInitialProps = function _callee() {\n  var res, csv, json, i, stamp, d, sortByDate;\n  return _regeneratorRuntime.async(function _callee$(_context) {\n    while (1) {\n      switch (_context.prev = _context.next) {\n        case 0:\n          sortByDate = function _ref(a, b) {\n            if (a.createdStamp > b.createdStamp) return -1;\n            if (a.createdStamp < b.createdStamp) return 1;\n            return 0;\n          };\n\n          _context.next = 3;\n          return _regeneratorRuntime.awrap(fetch('https://docs.google.com/spreadsheets/d/e/2PACX-1vSAf5a1pwIj-yjKPFhoyQdHTS3hHBNZVYXQRTCoAHXd6zYMy58iZr0IW054WglBJk9afknsTIeVS8eF/pub?output=csv'));\n\n        case 3:\n          res = _context.sent;\n          _context.next = 6;\n          return _regeneratorRuntime.awrap(res.text());\n\n        case 6:\n          csv = _context.sent;\n          _context.next = 9;\n          return _regeneratorRuntime.awrap(csvtojson().fromString(csv).then(function (json) {\n            return json;\n          }));\n\n        case 9:\n          json = _context.sent;\n\n          for (i = 0; i < json.length; i++) {\n            stamp = json[i].created;\n            if (stamp * 1 == stamp) stamp = stamp * 1;\n            d = new Date(stamp);\n            json[i].createdStamp = +d;\n          }\n\n          json = json.sort(sortByDate);\n          return _context.abrupt(\"return\", {\n            postsData: json\n          });\n\n        case 13:\n        case \"end\":\n          return _context.stop();\n      }\n    }\n  });\n};\n\nfunction convert(csv) {\n  return _regeneratorRuntime.async(function convert$(_context2) {\n    while (1) {\n      switch (_context2.prev = _context2.next) {\n        case 0:\n        case \"end\":\n          return _context2.stop();\n      }\n    }\n  });\n}","map":{"version":3,"sources":["C:/Users/Bakk/Documents/GitHub/yernemm-xyz/pages/posts.js"],"names":["Wrapper","fetch","Link","u","require","csvtojson","Posts","props","postsData","map","data","id","title","fontSize","formatDate","getDateObj","created","getInitialProps","sortByDate","a","b","createdStamp","res","text","csv","fromString","then","json","i","length","stamp","d","Date","sort","convert"],"mappings":"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","sourcesContent":["import Wrapper from '../components/page-wrapper';\r\nimport fetch from 'isomorphic-unfetch';\r\nimport Link from 'next/link';\r\nconst u = require('../scripts/util.js');\r\nconst csvtojson = require(\"csvtojson\");\r\nlet Posts = props => ( \r\n    <Wrapper title=\"Posts\">\r\n        <div>\r\n        {props.postsData.map(data=>(<div className='hoverListItem' key={data.id}>\r\n          <Link href=\"/posts/[id]\" as={`/posts/${data.id}`}>\r\n          <a>\r\n            \r\n            <span>  \r\n            <a><p> {data.title}</p>\r\n        <p style={{fontSize: '60%'}}>Created: {u.formatDate(u.getDateObj(data.created))}</p></a>\r\n                    <hr />\r\n                    </span>\r\n               \r\n            \r\n            </a></Link> <style jsx>{`\r\n  /* unvisited link */\r\n  a {\r\n    text-decoration: none;\r\n  }\r\n\r\n  a:link {\r\n    color: #ccf;\r\n  }\r\n  \r\n  /* visited link */\r\n  a:visited {\r\n    color: #ccf;\r\n  }\r\n  \r\n  /* mouse over link */\r\n  a:hover {\r\n    color: #88f;\r\n  }\r\n  \r\n  /* selected link */\r\n  a:active {\r\n    color: #88f;\r\n  }\r\n`}</style></div>\r\n        ))}\r\n        </div>\r\n\r\n    </Wrapper>\r\n)\r\n\r\nexport default Posts\r\n\r\nPosts.getInitialProps = async function() {\r\n\r\n    const res = await fetch('https://docs.google.com/spreadsheets/d/e/2PACX-1vSAf5a1pwIj-yjKPFhoyQdHTS3hHBNZVYXQRTCoAHXd6zYMy58iZr0IW054WglBJk9afknsTIeVS8eF/pub?output=csv');\r\n    const csv = await res.text();\r\n    let json = await csvtojson().fromString(csv).then(json => {\r\n        return json;\r\n    });\r\n\r\n    for(let i=0; i<json.length; i++){\r\n        let stamp = json[i].created;\r\n        if(stamp * 1 == stamp)\r\n        stamp = stamp * 1\r\n        let d = new Date(stamp);\r\n        json[i].createdStamp = + d;\r\n    }\r\n\r\n    json = json.sort(sortByDate);\r\n\r\n    function sortByDate(a,b){\r\n        if(a.createdStamp > b.createdStamp) return -1;\r\n        if(a.createdStamp < b.createdStamp) return 1;\r\n        return 0;\r\n    }\r\n\r\n    //const json = await csvtojson\r\n    return {postsData: json}\r\n}\r\n\r\nasync function convert(csv){\r\n    \r\n}"]},"metadata":{},"sourceType":"module"}